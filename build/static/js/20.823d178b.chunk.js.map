{"version":3,"sources":["../static/js/20.823d178b.chunk.js","components/Location/usePosition.jsx"],"names":["webpackJsonp","152","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","d","usePosition","__WEBPACK_IMPORTED_MODULE_0_react__","_slicedToArray","n","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","TypeError","defaultSettings","enableHighAccuracy","timeout","Infinity","maximumAge","watch","arguments","settings","_useState","_useState2","position","setPosition","_useState3","_useState4","error","setError","onChange","_ref","coords","timestamp","latitude","longitude","accuracy","speed","onError","message","navigator","geolocation","watcher","watchPosition","getCurrentPosition","clearWatch","assign"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,IACnCH,EAAoBI,EAAEL,EAAqB,cAAe,WAAa,MAAOM,IACxF,IAAIC,GAAsCN,EAAoB,GAE/EO,GADmEP,EAAoBQ,EAAEF,GAC1E,WAAW,QAASG,GAAcC,EAAIC,GAAG,GAAIC,MAAYC,GAAG,EAASC,GAAG,EAAUC,MAAGC,EAAU,KAAI,IAAI,GAA8BC,GAA1BC,EAAGR,EAAIS,OAAOC,cAAiBP,GAAII,EAAGC,EAAGG,QAAQC,QAAeV,EAAKW,KAAKN,EAAGd,QAAUQ,GAAGC,EAAKY,SAASb,GAAjDE,GAAG,IAAwD,MAAMY,GAAKX,GAAG,EAAKC,EAAGU,EAAK,QAAQ,KAAQZ,GAAIK,EAAW,QAAEA,EAAW,SAAK,QAAQ,GAAGJ,EAAG,KAAMC,IAAK,MAAOH,GAAM,MAAO,UAASF,EAAIC,GAAG,GAAGe,MAAMC,QAAQjB,GAAM,MAAOA,EAAU,IAAGS,OAAOC,WAAYnB,QAAOS,GAAM,MAAOD,GAAcC,EAAIC,EAAS,MAAM,IAAIiB,WAAU,6DCRpfC,GACJC,oBAAoB,EACpBC,QAASC,IACTC,WAAY,GAGD5B,EAAc,WAA+C,GAA9C6B,GAA8CC,UAAAX,OAAA,OAAAR,KAAAmB,UAAA,IAAAA,UAAA,GAA/BC,EAA+BD,UAAAX,OAAA,OAAAR,KAAAmB,UAAA,GAAAA,UAAA,GAApBN,EAAoBQ,EACxCpC,OAAAK,EAAA,cADwCgC,EAAA/B,EAAA8B,EAAA,GACjEE,EADiED,EAAA,GACvDE,EADuDF,EAAA,GAAAG,EAE9CxC,OAAAK,EAAA,UAAS,MAFqCoC,EAAAnC,EAAAkC,EAAA,GAEjEE,EAFiED,EAAA,GAE1DE,EAF0DF,EAAA,GAIlEG,EAAW,SAAAC,GAA2B,GAAxBC,GAAwBD,EAAxBC,OAAQC,EAAgBF,EAAhBE,SAC1BR,IACES,SAAUF,EAAOE,SACjBC,UAAWH,EAAOG,UAClBC,SAAUJ,EAAOI,SACjBC,MAAOL,EAAOK,MACdJ,eAIEK,EAAU,SAACV,GACfC,EAASD,EAAMW,SAuBjB,OApBArD,QAAAK,EAAA,WAAU,WACR,IAAKiD,YAAcA,UAAUC,YAE3B,WADAZ,GAAS,+BAIX,IAAIa,GAAU,IAWd,OAVIvB,GACFuB,EAAUF,UAAUC,YAAYE,cAC9Bb,EACAQ,EACAjB,GAGFmB,UAAUC,YAAYG,mBAAmBd,EAAUQ,EAASjB,GAGvD,iBAAMqB,IAAWF,UAAUC,YAAYI,WAAWH,MACvDrB,EAASN,mBAAoBM,EAASL,QAASK,EAASH,aAE5DhC,OAAA4D,UAAYtB,GAAUI","file":"static/js/20.823d178b.chunk.js","sourcesContent":["webpackJsonp([20],{\n\n/***/ 152:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"usePosition\", function() { return usePosition; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\nvar _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i[\"return\"])_i[\"return\"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");}};}();var defaultSettings={enableHighAccuracy:true,timeout:Infinity,maximumAge:0};var usePosition=function usePosition(){var watch=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var settings=arguments.length>1&&arguments[1]!==undefined?arguments[1]:defaultSettings;var _useState=Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useState\"])({}),_useState2=_slicedToArray(_useState,2),position=_useState2[0],setPosition=_useState2[1];var _useState3=Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useState\"])(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var onChange=function onChange(_ref){var coords=_ref.coords,timestamp=_ref.timestamp;setPosition({latitude:coords.latitude,longitude:coords.longitude,accuracy:coords.accuracy,speed:coords.speed,timestamp:timestamp});};var onError=function onError(error){setError(error.message);};Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function(){if(!navigator||!navigator.geolocation){setError(\"Geolocation is not supported\");return;}var watcher=null;if(watch){watcher=navigator.geolocation.watchPosition(onChange,onError,settings);}else{navigator.geolocation.getCurrentPosition(onChange,onError,settings);}return function(){return watcher&&navigator.geolocation.clearWatch(watcher);};},[settings.enableHighAccuracy,settings.timeout,settings.maximumAge]);return Object.assign({},position,{error:error});};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/20.823d178b.chunk.js","import { useState, useEffect } from \"react\";\r\n\r\nconst defaultSettings = {\r\n  enableHighAccuracy: true,\r\n  timeout: Infinity,\r\n  maximumAge: 0,\r\n};\r\n\r\nexport const usePosition = (watch = false, settings = defaultSettings) => {\r\n  const [position, setPosition] = useState({});\r\n  const [error, setError] = useState(null);\r\n\r\n  const onChange = ({ coords, timestamp }) => {\r\n    setPosition({\r\n      latitude: coords.latitude,\r\n      longitude: coords.longitude,\r\n      accuracy: coords.accuracy,\r\n      speed: coords.speed,\r\n      timestamp,\r\n    });\r\n  };\r\n\r\n  const onError = (error) => {\r\n    setError(error.message);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!navigator || !navigator.geolocation) {\r\n      setError(\"Geolocation is not supported\");\r\n      return;\r\n    }\r\n\r\n    let watcher = null;\r\n    if (watch) {\r\n      watcher = navigator.geolocation.watchPosition(\r\n        onChange,\r\n        onError,\r\n        settings\r\n      );\r\n    } else {\r\n      navigator.geolocation.getCurrentPosition(onChange, onError, settings);\r\n    }\r\n\r\n    return () => watcher && navigator.geolocation.clearWatch(watcher);\r\n  }, [settings.enableHighAccuracy, settings.timeout, settings.maximumAge]);\r\n\r\n  return { ...position, error };\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Location/usePosition.jsx"],"sourceRoot":""}